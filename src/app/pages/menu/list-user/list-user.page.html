<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-back-button defaultHref="menu/home"></ion-back-button>
    </ion-buttons>
    <ion-title>Utilisateurs</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="mainContent">
    <!-- <ion-card-subtitle class="title">Awesome Subtitle</ion-card-subtitle> -->
    <!-- {{userRechercheObs$ | async | json}} -->
    <div *ngIf="(usersObs$ | async) && !(userDetailObs$ | async)">
      <ion-searchbar placeholder="Search..." [debounce]="100" (ionInput)="handleInput($event)"></ion-searchbar>
      <ion-list lines="none" *ngIf="userRechercheObs$ | async as userObs">
        <!-- <ion-item class="Item" *ngFor="let user of users" (click)="showDetailUser(user)"> -->
        <ion-item class="Item" *ngFor="let user of userObs" (click)="showDetailUser(user)">
          <ion-avatar>
            <img src="../../../../assets/images/user.jpg" />
          </ion-avatar>
          <ion-label>
            <h2>{{user.firstName}} {{user.lastName}}</h2>
            <p>{{user.tel}}</p>
          </ion-label>
          <svg class="syncIcon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"/></svg>
          <ion-button>
            <ion-icon name="trash-outline"></ion-icon>
          </ion-button>
        </ion-item>
      </ion-list>
    </div>
    <div *ngIf="userDetailObs$ | async">
      <app-user-details [user]="userDetail"></app-user-details>
      <ion-button expand="block" (click)="backToList()">Retour</ion-button>
    </div>
    <ion-list lines="none" *ngIf="false">
      <ion-item class="Item" *ngFor="let item of [1,2,3,4]">
        <ion-avatar>
          <img src="../../../../assets/images/user.jpg" />
        </ion-avatar>
        <ion-label>
          <h2>Papa Waly Diop</h2>
          <p>Boutiquier</p>
        </ion-label>
        <!-- <ion-icon class="syncIcon" name="sync-outline"></ion-icon> -->
        <!-- <i class="fas fa-sync fa-fw fa-2x fa-beat-fade" style="color: var(--example-color); --fa-animation-duration: 2s;"></i> -->
        <svg class="syncIcon" xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"/></svg>
        <ion-button>
          <ion-icon name="trash-outline"></ion-icon>
        </ion-button>
      </ion-item>
    </ion-list>
    <!-- <ion-infinite-scroll (ionInfinite)="onIonInfinite($event)">
      <ion-infinite-scroll-content></ion-infinite-scroll-content>
    </ion-infinite-scroll> -->
    
    <!-- <div *ngIf="userDetailObs$ | async"> -->
    <div *ngIf="false">
      <app-user-details [user]="userDetail"></app-user-details>
      <ion-button expand="block" (click)="backToList()">Retour</ion-button>
    </div>
  </div>
</ion-content>
<ion-footer>
  <ion-button [routerLink]="['/menu/user/add']" routerLinkActive="router-link-active"  expand="block">Ajout utilisateur</ion-button>
</ion-footer>
